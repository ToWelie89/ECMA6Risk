<div data-ng-init="attack.init()">
    <div id="attackModal" class="riskModal" role="dialog" data-backdrop="static">
        <div class="modal-dialog">
            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-body">
                    <div class="modal-body textCenter">
                        <div class="row" id="territoryContainer">
                            <div class="col-xs-12">
                                <style>
                                    #attackModalBattleSvg .soldier, #attackModalBattleSvg .cannon, #attackModalBattleSvg .fireflash {
                                        display: none;
                                    }

                                    #attackModalBattleSvg #leftTroopCounter, #attackModalBattleSvg #rightTroopCounter {
                                        opacity: 0;
                                    }
                                </style>
                                <span id="attackModalBattleSvg"></span>
                            </div>
                        </div>
                        <div id="attackModalBottomWrapper">
                            <div class="row">
                                <div class="col-xs-6">
                                    <div class="" id="attackModalAttackerPortrait" player-portrait avatar="attack.attacker.avatar" target="attackModalAttackerPortraitSvg" small>
                                        <div id="attackModalAttackerPortraitSvg">
                                        </div>
                                    </div>
                                </div>
                                <div class="col-xs-6">
                                    <div class="" id="attackModalDefenderPortrait" player-portrait avatar="attack.defender.avatar" target="attackModalDefenderPortraitSvg" small>
                                        <div id="attackModalDefenderPortraitSvg">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-xs-6">
                                    {{ attack.attacker.numberOfTroops }}
                                </div>
                                <div class="col-xs-6">
                                    {{ attack.defender.numberOfTroops }}
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-xs-6">
                                    <strong>Attacker</strong>
                                </div>
                                <div class="col-xs-6">
                                    <strong>Defender</strong>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-xs-6" data-ng-bind="attack.attacker.owner"></div>
                                <div class="col-xs-6" data-ng-bind="attack.defender.owner"></div>
                            </div>
                            <div class="row paddingTop paddingBottom">
                                <button type="button" id="fightTillDeathButton" class="button button-purple" data-ng-click="attack.blitzFight()" data-ng-disabled="attack.disableButtons || attack.loading || attack.isBlitzFight || attack.fightIsOver || attack.diceAreRolling || attack.deployTroopsAnimationLoading">
                                    <strong>Fight till death!</strong>
                                </button>
                                <button type="button" id="fightButton" class="button button-blue" data-ng-click="attack.fight()" data-ng-disabled="attack.disableButtons || attack.loading || attack.isBlitzFight || attack.fightIsOver || attack.diceAreRolling || attack.deployTroopsAnimationLoading">
                                    <strong>Fight</strong>
                                </button>
                                <button type="button" id="retreatButton" class="button button-blue" data-ng-click="attack.retreat()" data-ng-disabled="attack.disableButtons || attack.loading || attack.isBlitzFight || attack.fightIsOver || attack.diceAreRolling || attack.deployTroopsAnimationLoading">
                                    <strong>Retreat!</strong>
                                </button>
                            </div>
                            <div class="row" style="opacity: 0;" id="diceContainer">
                                <div class="col-xs-6" data-ng-if="attack.attackerDice" style="width: 50%; height: 200px;">
                                    <div id="attackerCanvas" style="width: 618px; height: 200px;"></div>
                                </div>
                                <div class="col-xs-6" data-ng-if="attack.defenderDice" style="width: 50%; height: 200px;">
                                    <div id="defenderCanvas" style="width: 618px; height: 200px;"></div>
                                </div>
                            </div>
                            <div class="row" data-ng-show="attack.showMoveTroops">
                                <div class="col-xs-12 marginTop">
                                    <h4>
                                        Choose the number of troops to move the newly conquered territory.
                                    </h4>
                                </div>
                                <div class="col-xs-12 textCenter" id="sliderContainer">
                                    <div class="col-xs-6" style="margin: 0 auto; float: none;">
                                        <rzslider rz-slider-model="attack.moveNumberOfTroops" rz-slider-options="attack.movementSliderOptions"></rzslider>
                                    </div>
                                </div>
                                <div class="col-xs-12 paddingTop">
                                    <button type="button" class="button button-blue marginBottom" data-ng-click="attack.moveTroops()" id="moveButton">
                                        <strong>Move troops</strong>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>